# !/bin/bash
export EDITOR=vim
export GOPATH="/home/joe/.local/go"

export GH_EMAIL="69400937+blockjoe@users.noreply.github.com"

# bat
export MANPAGER="sh -c 'col -bx | bat -l man -p'"

# FZF
source "$PREFIX/share/fzf/key-bindings.bash"
source "$PREFIX/share/fzf/completion.bash"
export FZF_HISTORY_DIR='/home/joe/.history/fzf'
export FZF_DEFAULT_COMMAND="fd --follow --color=always --exclude '.git' --exclude 'node_modules' --exclude 'venv' --exclude '.steam' --exclude '.cache'"
export FZF_DEFAULT_OPTS="
	--layout=reverse
	--height=75%
	--info=hidden
	--multi
	--ansi
	--preview '([[ -f {} ]] && (bat --color=always --style=numbers {} || cat {})) || ([[ -d {} ]] && (lsd --icon always --color always --tree --depth 2 --group-dirs first {} | less)) || echo {} 2>/dev/null | head -200'
	--bind '?:toggle-preview'
	--bind 'ctrl-a:select-all'
"

export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_ALT_C_COMMAND="$FZF_DEFAULT_COMMAND --type d"
_fzf_compgen_path(){
	fd .  "$1"
}
_fzf_compgen_dir(){
	fd --type d . "$1"
}

# NVM
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
